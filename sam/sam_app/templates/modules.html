{% extends 'base.html' %}

{% block title %}Index{% endblock %}

{% block content %}

<table class="table table-sm w-25">
    <h4><a class="nav-link" href="{% url 'sam_app:modules' %}">Modules</a></h4>
    <thead>
        <th>Module</th>
        <th>Status</th>
    </thead>
    <tbody>
    <form method="post">{% csrf_token %}
    {% for module, status in module_status.items %}
        <tr>
            <td>{{ module }}</td>
            <td class="form-group">
            {% if status %}
                <button type="submit" value="{{ module }}" name="moduleName" class="form-item btn btn-sm btn-success">ON</button>
            {% else %}
                <button type="submit" value="{{ module }}" name="moduleName" class="form-item btn btn-sm btn-outline-danger">OFF</button>
            {% endif%}
            </td>
        </tr>
    {% endfor %}
        <tr>
            <th>All modules</th>
            <td>
                <button type="submit" value="ON" name="allModules" class="form-item btn btn-sm btn-success">ON</button>
                <button type="submit" value="OFF" name="allModules" class="form-item btn btn-sm btn-outline-danger">OFF</button>
            </td>
        </tr>
    </form>

    <tr>
        <td></td>
        <td></td>
    </tr>
    </tbody>
</table>

<div>
    <a class="btn btn-sm btn-outline-secondary" href="{% url 'sam_app:module_create' %}">Create new</a>
</div>

<hr/>
{% endblock %}